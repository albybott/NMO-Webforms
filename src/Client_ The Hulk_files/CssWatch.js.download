(function () { var t, e = [].indexOf || function (t) { for (var e = 0, n = this.length; n > e; e++) if (e in this && this[e] === t) return e; return -1 }; !function (n, i, s) { var o; o = function (t, e) { this.elem = t, this.$elem = n(t), this.options = e, this.cb_timer_id = null, this.stop_requested = !1 }, o.prototype = { defaults: { event_name: "css-change", data_attr_name: "css-watch-data", use_event: !0, callback: null, props: "", props_functions: {} }, init: function () { return this.config = n.extend({}, this.defaults, this.options, this.metadata), this.config.props = this.splitAndTrimProps(this.config.props), this.config.props.length > 0 && (this.setInitialData(), this.start()), this }, splitAndTrimProps: function (t) { var e, n, i; for (e = t.split(","), i = [], n = 0; n < e.length;) i.push(e[n].trim()), n++; return i }, setInitialData: function () { var t; for (t = 0; t < this.config.props.length;) this.setData(this.config.props[t], this.getPropertyValue(this.config.props[t])), t++ }, setData: function (t, e) { return this.$elem.data("" + this.config.data_attr_name + "-" + t, e) }, updateDataFromChanges: function (t) { var e, n, i, s, o; for (o = Object.keys(t), n = i = 0, s = o.length; s > i; n = ++i) e = o[n], this.setData(e, t[e]) }, getDataValue: function (t) { return this.$elem.data("" + this.config.data_attr_name + "-" + t) }, getPropertyValue: function (n) { var s; if (0 === Object.keys(this.config.props_functions).length) return this.$elem.css(n); if (!this.elem.ownerDocument || !this.elem.ownerDocument.defaultView) return 0; if (s = null, e.call(Object.keys(this.config.props_functions), n) >= 0 && (s = this.config.props_functions[n]), null !== s) { if (i.ExecuteMethod) return t.executeMethodByFunctionName(s, this.$elem); console.log("You are missing the ExecuteMethod library.") } return this.$elem.css(n) }, changedProperties: function () { var t, e; for (t = 0, e = {}; t < this.config.props.length;) this.getPropertyValue(this.config.props[t]) !== this.getDataValue(this.config.props[t]) && (e[this.config.props[t]] = this.getPropertyValue(this.config.props[t])), t++; return e }, stop: function () { var t; return "undefined" != typeof this.config && null !== this.config ? (t = !0, i.cssWatchCancelAnimationFrame(this.cb_timer_id)) : void 0 }, start: function () { var t = this; "undefined" != typeof this.config && null !== this.config && (this.stop_requested = !1, this.cb_timer_id = i.cssWatchRequestAnimationFrame(function () { t.check() })) }, check: function () { var t, e = this; return "undefined" == typeof this.config || null === this.config ? !1 : this.stop_requested === !0 ? !1 : (t = this.changedProperties(), Object.keys(t).length > 0 && (this.config.use_event && this.$elem.trigger(this.config.event_name, t), null !== this.config.callback && this.config.callback.apply(null, [t]), this.updateDataFromChanges(t)), this.cb_timer_id = i.cssWatchRequestAnimationFrame(function () { e.check() }), !1) }, destroy: function () { return this.stop(), this.$elem.removeData("css-watch-object"), this.$elem.removeData(this.config.data_attr_name), null } }, o.defaults = o.prototype.defaults, n.fn.csswatch = function (t) { return this.each(function () { var e, i; if ("object" != typeof t && t) { if ("string" == typeof t && (i = n(this).data("css-watch-object"), i && i[t])) return i[t].apply(this) } else e = n(this).data("css-watch-object"), e || (i = new o(this, t), n(this).data("css-watch-object", i), i.init()) }) } }(jQuery, window, document), Object.keys || (Object.keys = function (t) { var e, n; if (t !== Object(t)) throw new TypeError("Object.keys called on non-object"); n = [], e = void 0; for (e in t) Object.prototype.hasOwnProperty.call(t, e) && n.push(e); return n }), window.cssWatchRequestAnimationFrame || (window.cssWatchRequestAnimationFrame = function () { return window.webkitAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || window.requestAnimationFrame || function (t, e) { return window.setTimeout(t, 1e3 / 60) } }()), window.cssWatchCancelAnimationFrame || (window.cssWatchCancelAnimationFrame = function () { return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || function (t) { return window.clearTimeout(t) } }()), t = { getFunctionsAndProperties: function (e) { var n, i, s; for (n = e.split("."), i = 0, s = []; i < n.length;) s.push(t.getFunctionAndParameters(n[i])), i++; return s }, getFunctionAndParameters: function (e) { var n, i, s; return t.isFunction(e) ? (s = e.substring(e.indexOf("(") + 1, e.indexOf(")")), s = s.length > 0 ? t.splitAndTypeCastParameters(s) : [], n = e.substring(0, e.indexOf("(")), i = !0) : (n = e, s = null, i = !1), { func: n, params: s, isfunc: i } }, splitAndTypeCastParameters: function (e) { var n, i, s; for (n = e.split(","), s = [], i = 0, s = []; i < n.length;) s.push(t.typecastParameter(n[i])), i++; return s }, isFunction: function (e) { return -1 !== t.regexIndexOf(e, /(\([\d|\D]+\))|(\(\))/, 0) ? !0 : !1 }, regexIndexOf: function (t, e, n) { var i; return i = t.substring(n || 0).search(e), i >= 0 ? i + (n || 0) : i }, typecastParameter: function (t) { return t = t.trim(), t = t.replace(/^"/, ""), t = t.replace(/"$/m, ""), 0 === t.search(/^\d+$/) ? parseInt(t) : 0 === t.search(/^\d+\.\d+$/) ? parseFloat(t) : "false" === t ? !1 : "true" === t ? !0 : t }, executeSingleFunction: function (t, e, n, i) { return n[t].apply(i, e) }, getSingleProperty: function (t, e) { return e[t] }, executeMethodByFunctionName: function (e, n) { var i, s, o, r; for (o = t.getFunctionsAndProperties(e), r = 0, i = n, s = null; r < o.length;) i = o[r].isfunc === !0 ? t.executeSingleFunction(o[r].func, o[r].params, i, n) : t.getSingleProperty(o[r].func, i), r++; return i } }, String.prototype.trim || (String.prototype.trim = function () { return this.replace(/^\s+|\s+$/g, "") }), ("undefined" === window.ExecuteMethod || null === window.ExecuteMethod || void 0 === window.ExecuteMethod) && (window.ExecuteMethod = t) }).call(this);